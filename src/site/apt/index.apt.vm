 ---
 Introduction
 ---

${project.name}

  ${project.description}

  The {{{http://svnkit.com/}SVNKit}} library is used for all Subversion-related operations.

* Goals Overview

  * {{{revision-mojo.html}${project.artifactId}:release}} Retrieves the status and revision number of the Subversion
    working copy directory.

* Using the plugin

  This example shows the preferred way of using the plugin.
  The <<<revision>>> goal is bound to the <<<initialize>>> phase by default, which allows to use its output properties
  in the subsequent phases, for example during the resource filtering.

---
<project>
    ...
    <build>
        <plugins>
            <plugin>
                <groupId>${project.groupId}</groupId>
                <artifactId>${project.artifactId}</artifactId>
                <version>${project.version}</version>
                <executions>
                    <execution>
                        <goals>
                            <goal>revision</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
    ...
</project>
---

* Configuring the working copy directory location

  The location of the working copy directory is configured via <<<$\{workingCopyDirectory\}>>> property.
  The default value is the project's <<<$\{basedir\}>>>.

* Output properties

  The following properties will be available after running the <<<revision>>> goal:

  * <<<$\{workingCopyDirectory.repository\}>>> will contain the remote repository root.\
  The name of this output property can be configured via <<<$\{repositoryPropertyName\}>>>.

  * <<<$\{workingCopyDirectory.path\}>>> will contain the path of the path of the working copy directory entry relative
  to the root of the remote repository.\
  The name of this output property can be configured via <<<$\{pathPropertyName\}>>>.

  * <<<$\{workingCopyDirectory.revision\}>>> will be set to the aggregated status and revision number of the working
  copy directory.\
  The name of this output property can be configured via <<<$\{revisionPropertyName\}>>>)

  * <<<$\{workingCopyDirectory.fileNameSafeRevision\}>>> will be set to the aggregated status and revision number of
  the working copy directory but it will contain only characters allowed in the file names.\
  The name of this output property can be configured via <<<$\{fileNameSafeRevisionPropertyName\}>>>)

  []

  If the supplied directory is not under version control then <<<$\{workingCopyDirectory.repository\}>>> and
  <<<$\{workingCopyDirectory.path\}>>> will be empty strings and <<<$\{workingCopyDirectory.revision\}>>> and
  <<<$\{workingCopyDirectory.fileNameSafeRevision\}>>> will be set to <<<"unversioned">>>.

* <<<$\{workingCopyDirectory.revision\}>>> property value

  Depending on the state of the working copy directory the <<<$\{workingCopyDirectory.revision\}>>> property will be set
  to one of the following values:

  * <<<"unversioned">>> - the directory is not under version control.

  * <<<"rNNN">>> - the working copy is up-to-date and has no local modifications.\
    The <<<NNN>>> is the working copy revision number.

  * <<<"rNNN-rMMM">>> - the reporting of mixed revisions is enabled and the working copy contains
    {{{http://svnbook.red-bean.com/nightly/en/svn.basic.in-action.html#svn.basic.in-action.mixedrevs}mixed revisions}}
    but otherwise has no local modifications.\
    The <<<NNN>>> is the maximum revision number and <<<MMM>>> is the minimum revision number in the working copy.\
    The reporting of mixed revisions is enabled by default.

  []

  If reporting of working copy status is enabled and the working copy directory has uncommitted local modifications or
  is out-of-date, then an additional status information is appended to the <<<"rNNN">>> or <<<"rNNN-rMMM">>> value
  specified above in the form of <<<"rNNN SSS">>> or <<<"rNNN-rMMM SSS">>>, where <<<"SSS">>> consists of one or more of
  the following characters:

  * <<<'M'>>> - some item in the working copy has local modifications.

  * <<<'A'>>> - some item in the working copy is scheduled for addition to the repository.

  * <<<'D'>>> - some item in the working copy is scheduled for deletion from the repository.

  * <<<'?'>>> - the reporting of unversioned items is enabled and the working copy contains unversioned items.\
    The reporting of unversioned items is enabled by default.

  * <<<'!'>>> - some items in the working copy are missing (the most common case is deleting the file or
    directory without using svn).

  * <<<'R'>>> - some item in the working copy was replaced (it was scheduled for deletion, and then a new item with
    the same name was scheduled for addition).

  * <<<'C'>>> - the contents or properties of some item conflict with updates received from the repository.

  * <<<'~'>>> - some item in the working copy is obstructed (it is versioned as a file or a directory but has been
    replaced by a directory or a file respectively).

  * <<<'I'>>> - the reporting of ignored items is enabled and the working copy contains ignored items.\
    The reporting of ignored items is disabled by default.

  * <<<'!'>>> - some directory in the working copy is incomplete (a checkout or update operation was interrupted).

  * <<<'X'>>> - some item in the working copy is present because of an externals definition.

  * <<<'*'>>> - the reporting of out-of-date items is enabled and a newer revision of some item exists in the remote
    repository. If this feature is enabled the plugin will have to establish the connection to the remote repository on
    each run.\
    The reporting of out-of-date items is disabled by default.

  []

  The reporting of working copy status is enabled by default.

  The status characters for <<<$\{workingCopyDirectory.revision\}>>> property are consistent with the output of the
  {{{http://svnbook.red-bean.com/nightly/en/svn.ref.svn.c.status.html}svn status}} command.

* <<<$\{workingCopyDirectory.fileNameSafeRevision\}>>> property value

  The <<<$\{workingCopyDirectory.fileNameSafeRevision\}>>> property will contain the same information as the
  <<<$\{workingCopyDirectory.revision\}>>> property but with some alterations that allow to use the value of this
  property in the file names:

  * The revision number and status information are separated by the <<<'-'>>> instead of the <<<' '>>>.

  * Unversioned items are reported using the <<<'u'>>> instead of the <<<'?'>>>.

  * Missing items are reported using the <<<'m'>>> instead of the <<<'!'>>>.

  * Obstructed items are reported using the <<<'o'>>> instead of the <<<'~'>>>.

  * Incomplete items are reported using the <<<'i'>>> instead of the <<<'!'>>>.

  * Out-of-date items are reported using the <<<'d'>>> instead of the <<<'*'>>>.

  []
